# Change Log
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

## [1.4.0] - 07/30/2018
### Added
* Allow tracking additional attributes along with pageviews
* Add workflowId to workflows
### Changed
* Anonymous users are tracked by default in the US
* navigator.doNotTrack is respected

## [1.3.6] - 06/18/2018
### Fixed
* Prevent an incorrect error message

## [1.3.5] - 06/5/2018
### Fixed
* Do not log session start if Telemetry is disabled

## [1.3.4] - 05/21/2018
### Added
* Log user's `subscriptionInfo.type` or `public` as `accountType`
### Changed
* userSince and lastLogin are logged as strings

## [1.3.3] - 01/26/2018
### Fixed
* casing of dist files
* Never allow an exception to throw during init

## [1.3.2] - 12/18/2017
### Fixed
* Replace includes w/ indexOf

## [1.3.1] - 12/13/2017
### Fixed
* User does not need to be logged in to disable euei
* Check for local storage

## [1.3.0] - 11/06/2017
### Added
* Support for logging anonymized org id, lastLogin and userSince
* Support metrics: size, number, and count
* Detect users that are internal by esri email addresses and log internalUser
* Automatically log previousPageName and previousPageUrl
* Support for logging errors
* Support for initializing with a portal/self object under `options.portal`
* Automatically disabled if `portal.eueiEnabled === false`

### Fixed
* Initializing telemetry for a public user does not throw an exception
* Ensure null user does not throw error
* `false` attributes are no longer logged as `null`

## [1.2.0]
### Added
* Debug mode to log events to console
* User will be automatically added if Telemetry is initialized with `{user: user}`.
  * Telemetry.user can also be set at any time
* Additional attributes can be tracked along with any workflow event

### Changed
* Position is logged as a metric

### Fixed
* Log session start correctly
* Workflows do not throw error if steps are logged before start
* Disabled flag works
* Use in-memory storage when local storage is unavailable
* Fix exception when bad entries are in local storage

## [1.1.0] - 06/05/2017
### Added
* Support for tracking workflows

### Changed
* Send events to AWS as `workflow`, `pageView`, `other`

### Fixed
* All attributes are coerced to string before being sent to Amazon

## [1.0.3] - 05/01/2017
### Added
* High level error logging if a tracking call fails

### Fixed
* Kill switch logic

## [1.0.2] - 04/28/2017
### Changed
- Replace Promise with Callback style

## [1.0.1] - 04/28/2017
### Changed
- Replace Fetch with XHR

## 1.0.0 - 04/27/2017
- Initial Release

[1.4.0]: https://github.com/arcgis/telemetry.js/compare/v1.3.6...v1.4.0
[1.3.6]: https://github.com/arcgis/telemetry.js/compare/v1.3.5...v1.3.6
[1.3.5]: https://github.com/arcgis/telemetry.js/compare/v1.3.4...v1.3.5
[1.3.4]: https://github.com/arcgis/telemetry.js/compare/v1.3.3...v1.3.4
[1.3.3]: https://github.com/arcgis/telemetry.js/compare/v1.3.2...v1.3.3
[1.3.2]: https://github.com/arcgis/telemetry.js/compare/v1.3.1...v1.3.2
[1.3.1]: https://github.com/arcgis/telemetry.js/compare/v1.3.0...v1.3.1
[1.3.0]: https://github.com/arcgis/telemetry.js/compare/v1.2.0...v1.3.0
[1.2.0]: https://github.com/arcgis/telemetry.js/compare/v1.1.0...v1.2.0
[1.1.0]: https://github.com/arcgis/telemetry.js/compare/v1.0.3...v1.0.1
[1.0.3]: https://github.com/arcgis/telemetry.js/compare/v1.0.2...v1.0.3
[1.0.2]: https://github.com/arcgis/telemetry.js/compare/v1.0.1...v1.0.2
[1.0.1]: https://github.com/arcgis/telemetry.js/compare/v1.0.0...v1.0.1
